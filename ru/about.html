<!--# include file="_start.html" -->
	<h1><span>О проекте</span></h1>
	<div class="block">
		<p><strong>CBSD</strong>&nbsp;&mdash; это обёртка из&nbsp;<strong>sh</strong>-скриптов (преимущественно) вокруг подсистемы <a href="http://www.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8" target="_blank">jail(8)</a>, 
		гипервизоров <a href="http://www.freebsd.org/cgi/man.cgi?query=bhyve&amp;sektion=8" target="_blank">bhyve</a> и <a href="http://www.xenproject.org/">Xen</a> для операционной системы <a href="http://www.freebsd.org" target="_blank">FreeBSD</a>. 
		Проект позиционируется как единый инструмент комплексного решения при построении серверов приложений, использующее заранее подготовленные образы виртуальных окружений с&nbsp;типовым набором&nbsp;ПО и&nbsp;требующие минимальной настройки.</p>
		
		<p>Какого-либо нового функционала в&nbsp;ОС на&nbsp;данном этапе не&nbsp;внесено&nbsp;&mdash; всё, что могут делать скрипты <strong>CBSD</strong>, можно сделать командой (командами, десятками, сотнями команд) в&nbsp;CLI через соответствующие утилиты.
		Проект делается как для облегчения нужд по&nbsp;администрированию виртуальных сред на FreeBSD, так и &laquo;just for fun&raquo;.</p>
	</div>

	<h2><a name="features">Особенности&hellip;</a></h2>
	<div class="block">
		<ul>
			<li><a href="/<!--#echo var="lang" -->/cbsd_quickstart.html">Легкий старт</a></p>
			<li><a href="https://clonos.tekroutine.com" target="_blank">WEB-интерфейс и&nbsp;централизованное управление окружениями;</a> (смотрите меню: <strong>Installation on FreeBSD</strong>)</li>
			<li>поддержка ZFS файловой системы, ZFS квот, ZFS снапшотов;</li>
			<li><a href="/<!--#echo var="lang" -->/articles/cbsd_with_dfs.html">отсутствие привязки к ZFS</a>: CBSD работает прозрачно на UFS, HammerFS или любой другой FS: некоторые пользовали запускают jail и bhyve на кластерных FS, таких как NFS, <a href="/<!--#echo var="lang" -->/articles/cbsd_jail_glusterfs.html">GlusterFS</a> и Ceph, что характерно для ДЦ и обеспечения failover</li>
			<li>наличие <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_jconfig_ssi.html#execscript"><strong>pre/post start/stop хук</strong></a> для интеграции с различными DevOPS инструментами ( DDNS, DNSMasq, Consul, и т.д.)</li>
			<li>экспорт метрик по использованию ресурсов jail и виртуальных машин <a href="/<!--#echo var="lang" -->/articles/cbsd_with_grafana.html">(Экспорт и отображение jail и bhyve метрик с CBSD, Grafana и Prometheus)</a></li>
			<li>bsdconfig-подобные диалоги текстового интерфейса, что избавляет вас от необходимости учить большое количество команд и аргументов</li>
			<li>модульная структура - каждая команда - это отдельный файл, что делает большой проект легким в обслуживании. Помимо этого, есть отдельные комплексные модули ( vncterm, noVNC, WS/WSS нотификации, Puppet хелперы)</li>
			<li>быстрое создание и развертывание виртуальных окружений с&nbsp;нуля по манифесту;</li>
			<li>Поддержка <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_profiles_ssi.html">профилей</a> для создания jail</li>
			<li>экспорт и&nbsp;импорт окружений в&nbsp;образ;</li>
			<li>клонирование окружений (в&nbsp;т.ч. на&nbsp;удалённую машину);</li>
			<li>холодная миграция окружений с&nbsp;ноды на&nbsp;ноду;</li>
			<li>управление ресурсами окружений (приоритезация, квоты);</li>
			<li>репликация окружений на&nbsp;удалённые машины;</li>
			<li>дистрибуция &laquo;типовых&raquo; окружений с&nbsp;определённым набором софта и&nbsp;сервисами;</li>
			<li>управление очередностью запуска окружений;</li>
			<li>репозиторий с&nbsp;готовыми template-клетками;</li>
			<li>Поддержка Puppet и наличие Puppet модуля CBSD для <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_puppet_ssi.html">массового менеджмента</a> конфигурациями;</li>
			<li>bhyve: работа на ZVOL или в md-backend;</li>
			<li>bhyve: <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_bvnc_ssi.html">поддержка VNC</a></li>
			<li>bhyve: <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_bhyveppt_ssi.html">поддержка PCI Passthrough и SR-IOV</a></li>
			<li>bhyve: <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_bhyve_p9_ssi.html">Общие каталоги для виртуальных машин bhyve</a> (через virtio-p9)</li>
			<li>bhyve: поддержа <a href="/<!--#echo var="lang" -->/articles/cbsd_vm_hook_dhcpd.html">UEFI PXE boot</a>;</li>
			<li>bhyve: менеджмент виртуальных дисков;</li>
			<li>bhyve: поддержка VALE, виртуального свича;</li>
			<li>jail: выполнение массовых команд в параллельном режиме: <a href="/<!--#echo var="lang" -->/<!--#echo var="version" -->/wf_jexec_ssi.html">jexec</a></li>
			<li>jail: полная или частичная шифрация данных jail</li>
			<li>jail: <a href="/ru/xorg_in_jail.html">XJails</a> (Xorg в jail);</li>
			<li>jail: поддержка ненативных архитектур клеток через Qemu User mode (например, клетки arm и&nbsp;mips64 архитектуры на&nbsp;x86-64&nbsp;ноде);</li>
			<li>jail: готовый репозиторий для ядер и&nbsp;миров, что делает шаги <strong>buildworld/installworld</strong> необязательными;</li>
			<li>jail: если шаги <strong>buildworld/installworld</strong> предпринимаются, поддерживается src.conf для кастомизации сборки;</li>
			<li>jail: base каталог может располагаться на&nbsp;MD/RAM/TMPFS диске, что может быть полезно при большом кол-ве jail-ов с&nbsp;RO-подмонтированной базой;</li>
			<li>jail: поддержка VIMAGE;</li>
			<li>jail: поддержка NAT (pf, ipfw, ipfilter);</li>
			<li>jail: подсчет трафика в&nbsp;jail;</li>
			<li>jail: port expose - проброс сетевых соединений в jail;</li>
			<li>jail: поддержка CARP;</li>
			<li>jail: поддержка RACCT/RCTL;</li>
			<li>jail: конвертирование jail в&nbsp;PXE/ISO/Memstick-имидж;</li>
			<li>jail: поддержка VNC в окружение;</li>
			<li>&hellip;</li>
		</ul>
	</div>

	<h2><a name="goals">Цели проекта</a></h2>
	<div class="block">
		<ul>
			<li>Предоставить пользователям FreeBSD возможность удобного менеджмента виртуальных окружений</li>
			<li>Продемонстрировать возможности FreeBSD как Cloud-хостинг платформы;</li>
			<li>автоматизация типовых операций;</li>
			<li>создание (своих собственных/персональных) платформ для приложений по-требованию (PaaS);</li>
			<li>и&nbsp;не&nbsp;только&hellip;</li>
		</ul>
	</div>

	<h2><a name="why">Пара ПОЧЕМУ&hellip;</a></h2>
	<div class="block">
		<p><strong>Q:</strong> &laquo;Почему FreeBSD:</p>
		<ul>
			<li><p>По мнению авторов проекта, Linux давно не принадлежит обычным людям, влияние на нее оказывают большие и коммерческие организации, 
			тогда как FreeBSD по большей части разрабатывается обычными энтузиастами. Сегодня Linux - это коммерческая ОС для зарабатывания денег - то, чем был Microsoft Windows в 90 годах и против чего боролись когда-то апологеты Linux в то время (автор CBSD один из них).
			Да, FreeBSD по этим причинам значительно отстает по некоторым характеристикам. Достаточно посмотреть на обилие таких решений как <strong>OpenVZ, Docker, Rancher, Kubernetis, LXD, Ceph, GlusterFS, OpenNebula, OpenStack, Proxmox, ISPPanel</strong> и десяток других - все это создано коммерческими
			компаниями под Linux и сделано это очень хорошо. Однако Linux перенасыщен подобными решениями. Поэтому, гораздо более интересно создать это на FreeBSD, где ничего похожего нет. Это - отличный <strong>challenge</strong>, чтобы что-то улучшить и исправить в FreeBSD.
			Мы все любим независимость и свободу и FreeBSD сегодня - это независимая и свободная ОС, находящаяся в руках обычных людей.</p></li>
		</ul>
		<p><strong>Q:</strong> &laquo;Почему CBSD написан на sh:</p>
		<ul>
			<li><p>Большая часть кода написана на&nbsp;<strong>sh</strong>&nbsp;по&nbsp;той причине, что подобные задачи не&nbsp;требуют большой математической логики (<a href="/ru/cbsdsh.html">подробнее</a>) - ядро CBSD нужно рассматривать как backend к 
			shell-командам, которыми достигается необходимое и в случае проблем, любой системный инженер всегда может локализовать и исправить проблему в коде.</p>
			<p>Проблемы сложности сопровождения "большого кода на sh" изначально решены модульной структурой проекта, где каждый скрипт делает только свою задачу.
			Остальные, более сложные компоненты CBSD (например, Frontend, который реализует RestAPI для работы интерфейсов) пишется с использованием языка <strong>go</strong>, <strong>nodejs</strong>, <strong>php</strong> и не является частью CBSD Core.</p></li>
		</ul>

		<p><strong>Q:</strong> <strong>CBSD</strong> готова к использованию в production?</p>
		<ul>
			<li><p>Это зависит только от вас и ваших требований. CBSD существует с 2013 и на данный момент является одной из старейших систем по управлению виртуальными окружениями FreeBSD, при этом она находится в актуальном состоянии и
			продолжает совершенствоваться. Ряд пользователей успешно применяет CBSD в больших production инсталляциях. </p>
			<p>Нам также интересно узнать больше о применении CBSD и ClonOS, мы создали <a href="/en/press.html">отдельную страничку</a>, где коллекционируем статьи и обзоры от разных пользователей</p></li>
		</ul>

		<p><strong>Q:</strong> ezjail, qjail, zjail, warden, iocage, bsdploy, jailctl, и прочее: Какого черта так много проектов, какая разница между всеми?</p>
		<ul>
			<li><p>Короткий ответ: каждый проект имеет свой особенный вектор развития и цели по сравнению с другими; Вы имеете выбор между различными вариантами технологий и реализаций.
			Основное отличие между CBSD и другими в том, что CBSD позиционируется как комплексное решение с по возможности простым (когда это возможно) интерфейсом управления.
			CBSD по этой причине значительно крупнее и больше и не всем это подходит. Но мы преследуем разные цели по сравнению с другими и сфокусированы на комплексных кластерных решениях.
			</li>
			</p>
		</ul>

		<p><strong>Q:</strong> jail, bhyve, xen... Как насчет <strong>Docker</strong>, планируется ли поддерка Docker в CBSD?</p>
		<ul>
			<li><p>Нет. Мы ориентируемся на большие production-ready <strong><u>и</u></strong> <strong>FreeBSD-based</strong> инсталляции. Docker прекрасен, но у него нет официальной поддержки FreeBSD, поэтому нет смысла использовать в серъезной работе неподходящие инструменты.</p>
			<p>Вы можете использовать Docker также, как это сделано в MacOS или FreeNAS - через промежуточную прослойку из гипервизора [x/b]hyve. Но это годится больше для забавы и игр, нежели серъезного
			применения в рабочей инфраструктуре. Но если очень хочется, все это <a href="/<!--#echo var="lang" -->/articles/docker_on_freebsd.html">легко сделать самостоятельно</a> и без CBSD.</li>
		</ul>

		<p><strong>Q:</strong> &laquo;Что означает буква <strong>C</strong> в названии проекта?&raquo;</p>
		<ul>
			<li>По оригинальной идее, <strong>C</strong>BSD означает &laquo;кластер BSD&raquo;, поскольку одна из целей проекта - получение одноранговой фермы серверов, обслуживающих большое количество клеток в одном
			пространстве, что позволяет клеткам мигрировать между нодами и делить между собой общий пул ресурсов.</li>
		</ul>
		<p><strong>Q:</strong> &laquo;В чем заключается кластеризация?&raquo;</p>
			<ul>
				<li>В качестве транспорта при общении одной ноды с другой используется SSH протокол, что обеспечивает шифрованный канал связи. При добавлении нод и обмене ключами, нода начинает реплицировать локальный реестр <strong>CBSD</strong> (SQlite3 база)
				на соседей. Например, если на Node1 погасить клетку jail2, то выполнив SQL запрос на Node2 по состоянию клетки jail2, данное изменение в статусе будет отражено.</li>
				<li>Добавленные друг на друга ноды представляют из себя одноранговую сеть. Другими словами, каждая нода может выполнить CBSD-команды на удаленной ноде с одинаковыми правами. Таким образом, имеется множественные точки входа для
				управления фермой - вы в состоянии зайти на одну ноду и с нее управлять состоянием и параметрами клеток, расположенные на соседних системах. При этом роль ACL и прав доступа - на совести front-end-ов.</li>
				<li>Через демон <a href="/ru/cbsd_taskd.html"><strong>taskd</strong></a> (очередь задач через SQLite3 базу), ноды могут ставить друг на друга долгие или отложенные задачи, при создании получая ID задачи и далее, контроллирующие по нему отработку и результат.</li>
				<li>Соединение SSH между участниками держится постоянно (опционально), выступая в роли некого heartbeat-а между нодами и мультиплексированием ssh для ускоренного вызова команд (те, является <strong>SSH ControlMaster</strong>-соединением, что исключает долгую handshake-стадию при удаленных командах)</li>
			</ul>
	</div>


	<h2><a name="contactus"><span>CBSD-related поддержка, чат и юзергруппа</span></a></h2>
	<div class="block">
		<p>Мы запустили <a href="https://web.telegram.org/" target="_blank">Telegram</a> канал для дискуссий вокруг использования и разработки CBSD</p>
		<p>Пожалуйста, присоединяйтесь к нам в <a href="https://web.telegram.org/#/im?p=%40cbsdofficial" target="_blank">@cbsdofficial</a> (на английском языке)
	</div>
	
	<h2><a name="thanks"><span>Поддержать проект!</span></a></h2>
	<div class="block">
	<p>
	<p>Работа над <strong>CBSD Project</strong> во многом зависит от следующих факторов:</p>
	<ul>
		<li>От наличия свободного времени разработчиков вне основной дневной работы (проект не коммерческий): работая над CBSD, мы жертвуем своим временем на отдых и общению с семьей и друзьями;</li>
		<li>От востребованности проекта;</li>
		<li>От предложений, связанных с применением CBSD наработок или разработка и адаптация ее компонент под реальные коммерческие проекты;</li>
	</ul>
	<p>Если вы хотите помочь, поблагодарить или угостить авторов CBSD пивом, воспользуйтесь кнопкой ниже:</p>
	<p>Через PayPal:</p>
	<a href="https://www.paypal.me/cbsd" target="_blank">Donate CBSD"</a>
	<p>Через Яндекс.Деньги, Рубли:</p>
	<iframe style="text-align:center" frameborder="0" allowtransparency="true" scrolling="no" src="https://money.yandex.ru/embed/donate.xml?account=410011345077413&quickpay=donate&payment-type-choice=on&default-sum=100&&targets=CBSD&&project-name=CBSD&project-site=https%3A%2F%2Fbsdstore.ru&button-text=05" width="508" height="105"></iframe>
	<p>Кроме этого, вы можете распространить информацию о проекте или написать статью об использовании. Кроме этого вы можете лайкнуть проект на странице <a href="https://github.com/cbsd/cbsd">Github CBSD</a>, нажав <strong>Star</strong>. Мелочь, а приятно ;-)</p>
</div>
<!--# include file="_end.html" -->